<% if notice %>
  <p class="notice"><%= notice %></p>
<% end %>

<% content_for :title, "Clients" %>

<div class="page-container">
  <div class="page-header">
    <h1 class="page-title">Client list</h1>
    <% if current_user.admin? || current_user.super_admin? %>
      <%= link_to "New client", new_client_path, class: "new-button" %>
    <% end %>
  </div>
  <div class="table-container">
    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Contact</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <% @clients.each do |client| %>
          <tr>
            <td class="client-name"><%= client.client_name %></td>
            <td class="client-site"><%= client.contact_info %></td>
            <td class="client-actions">
              <%= link_to "ดูรายละเอียด", client, class: "client-action-link" %>
              <% if current_user.admin? || current_user.super_admin? %>
                <%= link_to "แก้ไข", edit_client_path(client), class: "client-action-link" %>
                <%= button_to "ลบ", client, method: :delete, class: "client-action-button", form: { data: { turbo_confirm: "คุณแน่ใจหรือไม่ที่จะลบลูกค้านี้?" } } %>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
